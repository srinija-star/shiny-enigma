
# Run ZAP Baseline Scan using official Docker image
- name: Run ZAP Baseline Scan
  run: |
    docker run --rm --user root -v ${{ github.workspace }}:/zap/wrk/:rw \
      ghcr.io/zaproxy/zaproxy:stable zap-baseline.py \
      -t http://testphp.vulnweb.com \
      -r testreport.html || true
    ls -al
  continue-on-error: true

# Show the generated report in logs
- name: Print ZAP Report
  run: cat testreport.html

# Upload the report as an artifact
- name: Upload ZAP Report
  uses: actions/upload-artifact@v4
  with:
    name: zap-report
    path: testreport.html
